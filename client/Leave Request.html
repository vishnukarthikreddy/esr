<div class="contentArea">
  <div class="">
    <div class="pageTitle">Leave Request</div>
    <hr class="hline1"/>
  </div>

  <div ng-controller="LeaveRequestController">
    <button type="button" class="btn btn-danger btn-md pull-right m-btm10" data-toggle="modal" data-target="#myModal" ng-click="reset()">Create</button>
    <div class="modal fade" id="myModal" resource="dialog">
      <div class="modal-dialog">
        <!-- Modal content-->
        <div class="modal-content " align="center">
          <div class="modal-header createEmployeeModalHeader">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h4 class="modal-title">Apply For Leave</h4>
            <h4>Date:{{todayDate |  date:'yyyy-MM-dd '}} </h4>
          </div>
          <div class="modal-body">
            <div class=" text-center color-red f-bold" ng-show="resourceCreationError">{{createResourceError}}</div>
            <form class="simple-form row" id="myModal" ng-submit="createRequest()">

              <div class="col-lg-2 paddgleft-right0 "> <label>empName:</label></div>
              <div class="col-lg-3 paddgleft-right0 ">
                <input type="text"  ng-model="nameOfLoginPerson" class="drop09">
              </div>
              <div class=" col-lg-3 paddgleft-right0 "> <label>FinancialYear:</label></div>
              <div class="col-lg-3 paddgleft-right0">
               <!-- <input type="text"  ng-model="requestfinancialYear" class="drop09" required>-->
                <select ng-model="request.financialYear" class="drop09">
                  <option class=" " value="">Select Year</option>
                  <option value="2015">2015</option>
                  <option value="2016">2016</option>
                  <option value="2017">2017</option>
                  <option value="2018">2018</option>
                </select>
              </div>
              <div class="col-lg-12 paddgleft-right0 m-top20">
                <div class="col-lg-2 paddgleft-right0"> <label>Start Dt:</label></div>
                <div class="col-lg-2 paddgleft-right0">
                  <input type="text" ng-calendar format="%d-%m-%Y"  ng-model="request.startDt" class="drop09" required="">
                </div>

                <div class="col-lg-2 paddgleft-right0"> <label>End Dt:</label></div>
                <div class="col-lg-2 paddgleft-right0">
                  <input type="text" ng-calendar format="%d-%m-%Y"  ng-model="request.endDt" class="drop09" ng-blur="calData()" required>

                </div>

                <div class="col-lg-2 paddgleft-right0"> <label>No.of.days:</label></div>
                <div class="col-lg-1 paddgleft-right0">
                  <input type="text"  ng-model="request.noOfDays" class="drop09" required>
                </div>
              </div>
              <div class="col-lg-12 m-top20">

                <div class="col-lg-6">
                  <label> <span class="color-red f-bold f-left"></span>LeaveType:</label>
                  <select ng-model="request.leaveType" class="drop09" required>
                    <option class=" " value="">Select Leave Type</option>
                    <option value="CL">CL</option>
                    <option value="SL">SL</option>
                    <option value="EL">EL</option>

                  </select>
                </div>

                <div class="col-lg-6">
                  <label>ReasonForLeave:</label>
                  <input type="text"  ng-model="request.reasonForLeave" class="drop09" required>
                </div>
                <div class="col-lg-12 m-top20">
                <div class="col-lg-6">
                  <label>Manager Approval Status:</label>
                 <input type="text"  ng-model="request.mgrApprovalStatus" placeholder="Pending" class="drop09" readonly>

                    </select>
                </div>

                <div class="col-lg-6">
                  <label>Hr Approval Status</label>
                 <input type="text"  ng-model="request.hrApprovalStatus" placeholder="Pending" class="drop09" readonly>

                  </select>
                </div>
</div>
              </div>
              <div class="col-lg-offset-4 col-lg-4 col-lg-offset-4" style="margin-bottom: 20px">
                <div class="col-lg-6">
                  <input type="submit" class="btn btn-primary" value="Save" style="margin-top: 20px"/>
                </div>
                <div class="col-lg-6">
                  <input type="button" class="btn btn-primary" ng-click="reset()" value="Reset" style="margin-top: 20px;" />
                </div>
              </div>

            </form>
          </div>
        </div>
  </div>
      </div>
    </div>



  <!--edit popup-->


    <div class="modal fade" id="projectEdit" resource="dialog">
      <div class="modal-dialog">
          <!-- Modal content-->
          <div class="modal-content hight09" align="center">
            <div class="modal-header createEmployeeModalHeader">
              <button type="button" class="close" data-dismiss="modal">&times;</button>
              <h4 class="modal-title">SetUp Leaves For Employee</h4>
            </div>
            <div class="modal-body">
              <div class=" text-center color-red f-bold" ng-show="resourceCreationError">{{createResourceError}}</div>
              <form class="simple-form" id="myModal1" ng-submit="updateProject1()">


                <div class="col-lg-12 paddgleft-right0">
                  <div class="col-lg-2 paddgleft-right0"> <label>Start Dt:</label></div>
                  <div class="col-lg-2 paddgleft-right0">
                    <input type="text" ng-calendar format="%d-%m-%Y"  ng-model="editLeaveRequest.startDt" class="drop09">
                  </div>

                  <div class="col-lg-2 paddgleft-right0"> <label>End Dt:</label></div>
                  <div class="col-lg-2 paddgleft-right0">
                    <input type="text" ng-calendar format="%d-%m-%Y"  ng-model="editLeaveRequest.endDt" ng-blur="calData2()"  class="drop09">
                  </div>


                  <div class="col-lg-2 paddgleft-right0"> <label>no.of.days</label></div>
                  <div class="col-lg-1 paddgleft-right0">
                    <input type="text"  ng-model="editLeaveRequest.noOfDays"  class="drop09">
                  </div>
                </div>
                <div class="col-lg-12 m-top20">


                  <div class="col-lg-6">
                    <label> <span class="color-red f-bold f-left"></span>LeaveType:</label>
                    <select ng-model="editLeaveRequest.leaveType" class="drop09">
                      <option class=" " value="">Select Leave Type</option>
                      <option value="CL">CL</option>
                      <option value="SL">SL</option>
                      <option value="EL">EL</option>

                    </select>
                  </div>

                  <div class="col-lg-6">
                    <label>ReasonForLeave:</label>
                    <input type="text"  ng-model="editLeaveRequest.reasonForLeave" class="drop09">
                  </div>
                  <div class="col-lg-12 m-top20">
                    <div class="col-lg-6">
                      <label>Manager Approval Status:</label>
                      <input type="text"  ng-model="editLeaveRequest.mgrApprovalStatus" placeholder="Pending" class="drop09" readonly>
                    </div>

                    <div class="col-lg-6">
                      <label>Hr Approval Status</label>
                      <input type="text"  ng-model="editLeaveRequest.hrApprovalStatus" placeholder="Pending" class="drop09" readonly>
                    </div>
                  </div>
                </div>
                <div class="col-lg-offset-4 col-lg-4 col-lg-offset-4" style="margin-bottom: 20px">
                  <div class="col-lg-6">
                    <input type="submit" class="btn btn-primary" value="Save" style="margin-top: 20px"/>
                  </div>
                  <div class="col-lg-6">
                    <input type="button" class="btn btn-primary" ng-click="reset()" value="Reset" style="margin-top: 20px;" />
                  </div>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
  </div>

</div>

    <!--************************************add and update*********************************************-->


<div>
    <table datatable="ng" class="table table-striped table-condensed table-hover" border="1" align="left">
      <thead>

      <tr>
        <th>Emp Name&nbsp;</th>
        <th>Financial Year&nbsp;</th>
        <th>Start Dt&nbsp;</th>
        <th>End Dt&nbsp;</th>
        <th>No Of Days&nbsp;</th>
        <th>Leave Type&nbsp;</th>
        <th>Reason for Leave
          </th>
        <th>MGR Approval Status&nbsp;</th>
        <th>HR Approval Status &nbsp;</th>

        <th>Delete</th>
        <th>Status</th>

      </tr>
      </thead>

      <tbody>
      <tr ng-repeat="requests in projectsData  track by $index">
        <td>{{requests.createdBy}}</td>
        <td>{{requests.financialYear}}</td>
        <td>{{requests.startDt}}</td>
        <td>{{requests.endDt}}</td>
        <td>{{requests.noOfDays}}</td>
        <td>{{requests.leaveType}}</td>
        <td>{{requests.reasonForLeave}}</td>
        <td>{{requests.hrStatus}}</td>
        <td>{{requests.mgrStatus}}</td>
        <td><span ng-disabled="isShow"><button class="btn btn-danger"  ng-click="removePerson(requests.id)"><i class="fa fa-close"></i></button></span></td>

        <td>
          <span ng-disabled="isShow"><button class="glyphicon glyphicon-pencil pall10 m-right5" data-backdrop="static" data-keyboard="false"  ng-click="editLeaveRequest1(requests)"></button></span>
        </td>

      </tr>
      </tbody>
    </table>
</div>
  </div>
</div>
